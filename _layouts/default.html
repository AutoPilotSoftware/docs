<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ page.title | default: site.title }}</title>
    <meta name="description" content="{{ page.description | default: site.description }}">
    <meta property="og:title" content="{{ page.title | default: site.title }}">
    <meta property="og:description" content="{{ page.description | default: site.description }}">
    <meta property="og:type" content="article">
    <meta property="og:image" content="https://autopilotsoftware.github.io/docs/auto_pilot_logo.png">
    <meta property="og:image:width" content="640">
    <meta property="og:image:height" content="360">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://autopilotsoftware.github.io/docs/auto_pilot_logo.png">
    <style>
        :root {
            --bg: #ffffff;
            --fg: #24292f;
            --heading: #1b1f24;
            --link: #0969da;
            --border: #d0d7de;
            --code-bg: #f6f8fa;
            --table-border: #d0d7de;
            --accent: #0969da;
            --blockquote-bg: #f6f8fa;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
            background: var(--bg);
            color: var(--fg);
            line-height: 1.7;
            padding: 2rem 1rem;
            max-width: 900px;
            margin: 0 auto;
        }
        h1, h2, h3, h4 { color: var(--heading); margin-top: 2rem; margin-bottom: 0.75rem; }
        h1 { font-size: 2rem; border-bottom: 1px solid var(--border); padding-bottom: 0.5rem; }
        h2 { font-size: 1.5rem; border-bottom: 1px solid var(--border); padding-bottom: 0.4rem; }
        h3 { font-size: 1.25rem; }
        a { color: var(--link); text-decoration: none; }
        a:hover { text-decoration: underline; }
        p { margin-bottom: 1rem; }
        ul, ol { margin-bottom: 1rem; padding-left: 2rem; }
        li { margin-bottom: 0.3rem; }
        code {
            background: var(--code-bg);
            padding: 0.2em 0.4em;
            border-radius: 4px;
            font-size: 0.9em;
        }
        pre {
            background: var(--code-bg);
            padding: 1rem;
            border-radius: 8px;
            overflow-x: auto;
            margin-bottom: 1rem;
            border: 1px solid var(--border);
        }
        pre code { background: none; padding: 0; }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 1.5rem;
        }
        th, td {
            border: 1px solid var(--table-border);
            padding: 0.6rem 0.8rem;
            text-align: left;
        }
        th { background: var(--code-bg); color: var(--heading); font-weight: 600; }
        blockquote {
            border-left: 4px solid var(--accent);
            padding: 0.5rem 1rem;
            margin-bottom: 1rem;
            background: var(--blockquote-bg);
            border-radius: 0 4px 4px 0;
        }
        hr { border: none; border-top: 1px solid var(--border); margin: 2rem 0; }
        strong { color: var(--heading); }
        .mermaid { margin: 1.5rem 0; text-align: center; }
        .nav { margin-bottom: 2rem; padding-bottom: 1rem; border-bottom: 1px solid var(--border); display: flex; align-items: center; flex-wrap: wrap; }
        .nav a { margin-right: 1.5rem; font-weight: 500; }
        .lang-switch { margin-left: auto; display: flex; gap: 0; border: 1px solid var(--border); border-radius: 6px; overflow: hidden; font-size: 0.85rem; }
        .lang-switch a { margin: 0; padding: 0.3rem 0.6rem; font-weight: 600; color: var(--fg); border-right: 1px solid var(--border); }
        .lang-switch a:last-child { border-right: none; }
        .lang-switch a:hover { background: var(--code-bg); text-decoration: none; }
        .lang-switch a.active { background: var(--accent); color: #fff; }
    </style>
</head>
<body>
    <div class="nav">
        <a href="{{ '/' | relative_url }}">Home</a>
        <a href="{{ '/mexc-autopilot' | relative_url }}">MEXC</a>
        <a href="{{ '/bitget-autopilot' | relative_url }}">Bitget</a>
        <a href="{{ '/faq' | relative_url }}">FAQ</a>
        <div class="lang-switch" id="langSwitch"></div>
    </div>

    {{ content }}

    <script>
        // Language switcher: RU pages at /docs/page, EN pages at /docs/en/page
        (function() {
            const sw = document.getElementById('langSwitch');
            if (!sw) return;
            const path = window.location.pathname;
            const base = '/docs';
            const isEn = path.startsWith(base + '/en/') || path === base + '/en';
            const isUa = path.startsWith(base + '/ua/') || path === base + '/ua';
            // Build corresponding page path
            var pagePart;
            if (isEn) pagePart = path.replace(base + '/en', '') || '/';
            else if (isUa) pagePart = path.replace(base + '/ua', '') || '/';
            else pagePart = path.replace(base, '') || '/';
            const ruHref = base + pagePart;
            const enHref = base + '/en' + pagePart;
            const uaHref = base + '/ua' + pagePart;
            const isRu = !isEn && !isUa;
            sw.innerHTML =
                '<a href="' + ruHref + '" class="' + (isRu ? 'active' : '') + '">RU</a>' +
                '<a href="' + uaHref + '" class="' + (isUa ? 'active' : '') + '">UA</a>' +
                '<a href="' + enHref + '" class="' + (isEn ? 'active' : '') + '">EN</a>';
        })();
    </script>
    <script type="module">
        // Convert Jekyll's <pre><code class="language-mermaid"> to <div class="mermaid">
        document.querySelectorAll('pre > code.language-mermaid').forEach(code => {
            const pre = code.parentElement;
            const div = document.createElement('div');
            div.className = 'mermaid';
            div.textContent = code.textContent;
            pre.replaceWith(div);
        });

        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true, theme: 'default' });
    </script>
</body>
</html>
